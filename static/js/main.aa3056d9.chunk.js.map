{"version":3,"sources":["icons/032-hut.svg","contexts/MyContextProvider.js","url_config.js","mocked_login.js","contexts/AuthContextProvider.js","components/PostForm.js","components/Form.js","components/Loader.js","components/Map.js","styled-components/ProfileImage.js","components/ReviewCard.js","components/Description.js","views/Location.js","views/App.js","views/Profile.js","Main.js","index.js","icons/012-camp.svg","icons/010-bonfire.svg","icons/009-binoculars.svg"],"names":["module","exports","__webpack_require__","p","MyContext","React","createContext","MyContextProvider","props","_useState","useState","_useState2","Object","slicedToArray","pointId","setPointId","_useState3","_useState4","mode","setMode","_useState5","_useState6","data","setData","_useState7","_useState8","lon","setLon","_useState9","_useState10","lat","setLat","_useState11","_useState12","cyclingOn","setCyclingOn","_useState13","_useState14","hikingOn","setHikingOn","_useState15","_useState16","hikebikeOn","setHikebikeOn","_useState17","_useState18","hillshadingOn","setHillshadingOn","_useState19","_useState20","geoCords","setGeoCords","state","getPointIdData","id","arguments","length","undefined","find","d","_id","switchMode","react_default","a","createElement","Provider","value","children","config","url","API_URL","app_id","FACEBOOK_APPID","mocked_login","isAuthenticated","user","picture","jwToken","AuthContext","AuthContextProvider","process","REACT_APP_LOGEDIN","setIsAuthenticated","mockedLogin","setUser","setPicture","setJwToken","PostForm","authContext","useContext","resetForm","inputs","reduce","acc","input","name","default","setState","images","setImages","handleChange","e","objectSpread","defineProperty","target","console","log","files","Array","from","className","onSubmit","preventDefault","FormData","key","append","additionalInputs","forEach","image","i","concat","fetch","apiPath","method","credentials","headers","Authorization","body","then","res","onSucessPost","enctype","formTitle","map","htmlFor","label","selectType","onChange","options","option","required","placeholder","type","min","max","buttonTitle","Form","context","components_PostForm","Loader","lib","size","color","loading","iconMapping","camping","bonfire","view","viewPoint","hut","Map","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","cyclingLayer","hikingLayer","hikebikeLayer","center","getView","setCenter","fromLonLat","localisation","setZoom","centerOnGeo","_this2","extraLayer","VectorLayer","source","VectorSource","features","featuresLayer","geoIcon","Feature","geometry","Point","geolocationLayer","TileLayer","XYZ","hillshadingLayer","OlMap","refs","mapContainer","layers","OSM","View","zoom","geolocation","Geolocation","tracking","projection","getProjection","on","event","getPosition","getGeometry","setCoordinates","forEachFeatureAtPixel","pixel","feature","get","newPath","history","push","coord","toLonLat","coordinate","star","Style","RegularShape","fill","Fill","stroke","Stroke","width","points","radius","radius2","angle","coords","newFeature","setStyle","setSource","_this3","setVisible","values_","isEmpty","json","icon","Icon","opacity","scale","src","iconStyle","iconFeature","description","rating","catch","error","components_Loader","onClick","ref","components_Form","Component","contextType","ProfileImage","styled","img","_templateObject","SmallProfileImage","_templateObject2","ReviewCard","title","alt","profilePicture","Description","reviews","setReviews","pointData","setPointData","useEffect","fetchReviews","rev","index","components_ReviewCard","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","newRating","stop","_x","apply","Location","pathPointId","location","pathname","match","components_Map","URLSearchParams","Content-Type","components_Description","App","switchText","handleInputChange","checked","redirect","react_router","path","component","Profile","profileData","setProfileData","locations","react_router_dom","to","favourites","Main","profileLink","basename","facebook_login_with_button_default","appId","autoLoad","fields","callback","response","accessToken","cache","r","token","photoUrl","exact","ReactDOM","render","contexts_MyContextProvider","contexts_AuthContextProvider","src_Main","document","getElementById"],"mappings":"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","file":"static/js/main.aa3056d9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/032-hut.f466d3ec.svg\";","import React, { useState } from \"react\";\nexport const MyContext = React.createContext({});\n\nfunction MyContextProvider(props) {\n  const [pointId, setPointId] = useState(null);\n  const [mode, setMode] = useState(\"explore\");\n  const [data, setData] = useState(null);\n  const [lon, setLon] = useState(17.86208324183244);\n  const [lat, setLat] = useState(59.30184823106963);\n  const [cyclingOn, setCyclingOn] = useState(false);\n  const [hikingOn, setHikingOn] = useState(false);\n  const [hikebikeOn, setHikebikeOn] = useState(false);\n  const [hillshadingOn, setHillshadingOn] = useState(false);\n  const [geoCords, setGeoCords] = useState(null);\n\n  const switchMode = () => {\n    const newMode = mode === \"explore\" ? \"edit\" : \"explore\";\n    setMode(newMode);\n  };\n\n  const getPointIdData = (id = pointId) => {\n    const pointData = data.find(d => d._id == id);\n    return pointData;\n  };\n\n  const state = {\n    pointId,\n    setPointId,\n    getPointIdData,\n    mode,\n    setMode,\n    switchMode,\n    data,\n    setData,\n    lon,\n    setLon,\n    lat,\n    setLat,\n    cyclingOn,\n    setCyclingOn,\n    hikingOn,\n    setHikingOn,\n    hikebikeOn,\n    setHikebikeOn,\n    hillshadingOn,\n    setHillshadingOn,\n    geoCords,\n    setGeoCords\n  };\n  return (\n    <MyContext.Provider value={state}>{props.children}</MyContext.Provider>\n  );\n}\nexport default MyContextProvider;\n","\nconst prod = {\n    url: {\n        API_URL: 'https://db-truso-map-space.herokuapp.com'\n    },\n    app_id: {\n      FACEBOOK_APPID: '383464965621720'\n    }\n};\nconst dev = {\n    url: {\n        API_URL: 'http://localhost:8000'\n    },\n    app_id: {\n      FACEBOOK_APPID: '878158445910684'\n    }\n};\nexport const config = process.env.NODE_ENV === 'development' ? dev: prod;","export default {\n  isAuthenticated: true,\n  user: \"5d2cd2dd1a88bd3129ed41cd\",\n  picture: \"https://graph.facebook.com/10219128370309728/picture?type=large\",\n  jwToken:\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMmNkMmRkMWE4OGJkMzEyOWVkNDFjZCIsImlhdCI6MTU2MzY1NjM5MiwiZXhwIjoxNTYzNjYzNTkyfQ.oS_qwR9qmT183NoKemPAuWRCSiK1tIgapdwdKkFupv4\"\n};\n","import React, { useState } from 'react'\nimport mockedLogin from '../mocked_login';\nexport const AuthContext = React.createContext({})\n\nfunction AuthContextProvider(props) {\n  const [isAuthenticated, setIsAuthenticated] = useState(process.env.REACT_APP_LOGEDIN ? \n    true: false);\n  const [user, setUser] = useState(process.env.REACT_APP_LOGEDIN ? \n    mockedLogin.user :\n    null);\n  const [picture, setPicture] = useState(process.env.REACT_APP_LOGEDIN ? \n    mockedLogin.picture :\n    null);\n  const [jwToken, setJwToken] = useState(process.env.REACT_APP_LOGEDIN ? \n    mockedLogin.jwToken :\n    null);\n\n    const state = {\n      isAuthenticated,\n      setIsAuthenticated,\n      user,\n      setUser,\n      jwToken,\n      setJwToken,\n      picture,\n      setPicture\n    }\n    return (\n        <AuthContext.Provider value={state}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n\n}\nexport default AuthContextProvider\n","import React, { useContext, useState } from \"react\";\nimport { config } from \"../url_config\";\nimport { AuthContext } from \"../contexts/AuthContextProvider\";\n\nfunction PostForm(props) {\n  const authContext = useContext(AuthContext);\n\n  const resetForm = () => {\n    return props.inputs.reduce((acc, input) => {\n      acc[input.name] = input.default || \"\";\n      return acc;\n    }, {});\n  };\n\n  const [state, setState] = useState(resetForm());\n  const [images, setImages] = useState(null);\n\n  const handleChange = e => {\n    setState({ ...state, [e.target.id]: e.target.value });\n    console.log(e.target.files);\n    e.target.files && setImages(Array.from(e.target.files));\n  };\n\n  const SubmitHandler = e => {\n    e.preventDefault();\n\n    const data = new FormData();\n    for (const key in state) {\n      console.log(key, state[key]);\n      data.append(key, state[key]);\n    }\n    for (const key in props.additionalInputs) {\n      console.log(key, props.additionalInputs[key]);\n      data.append(key, props.additionalInputs[key]);\n    }\n\n    if (images) {\n      images.forEach((image, i) => {\n        console.log(i, image);\n        data.append(`image_${i}`, image);\n      });\n    }\n\n    fetch(config.url.API_URL + props.apiPath, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        Authorization: \"Bearer \" + authContext.jwToken\n      },\n      body: data\n    }).then(res => {\n      setState(resetForm());\n      props.onSucessPost && props.onSucessPost(res);\n    });\n  };\n\n  return (\n    <div>\n      <form\n        className=\"container\"\n        onSubmit={SubmitHandler}\n        enctype=\"multipart/form-data\"\n      >\n        <div className=\"flexcontainer\">\n          <h3>{props.formTitle}</h3>\n        </div>\n        <div className=\"row\">\n          {props.inputs.map(input => {\n            return (\n              <div className=\"col-sm\" key={input.name}>\n                <label htmlFor={input.name}>{input.label}</label>\n                {input.selectType ? (\n                  <select\n                    className=\"form-control input-sm\"\n                    id={input.name}\n                    name={input.name}\n                    value={state[input.name]}\n                    onChange={handleChange}\n                  >\n                    {input.options.map(option => (\n                      <option key={option}>{option}</option>\n                    ))}\n                  </select>\n                ) : (\n                  <input\n                    required={input.required}\n                    className=\"form-control input-sm\"\n                    placeholder={input.placeholder}\n                    type={input.type}\n                    name={input.name}\n                    id={input.name}\n                    min={input.min}\n                    max={input.max}\n                    value={state[input.name]}\n                    onChange={handleChange}\n                  />\n                )}\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"flexcontainer\">\n          <button type=\"submit\" className=\"btn btn-dark btn-bg\">\n            {props.buttonTitle}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default PostForm;\n","import React, { useContext } from \"react\";\nimport { MyContext } from \"../contexts/MyContextProvider\";\nimport PostForm from \"./PostForm\";\n\nfunction Form(props) {\n  const context = useContext(MyContext);\n\n  const onSucessPost = () => context.setData(null);\n  const apiPath = \"/api/points\";\n  const formTitle = \"Click on the map and add a new spot\";\n\n  const additionalInputs = {\n    lon: context.lon,\n    lat: context.lat\n  };\n\n  const inputs = [\n    {\n      name: \"name\",\n      label: \"Name:\",\n      required: true,\n      placeholder: \"place name\",\n      type: \"text\"\n    },\n    {\n      name: \"description\",\n      label: \"Description:\",\n      required: false,\n      placeholder: \"place decription\",\n      type: \"text\"\n    },\n    {\n      name: \"type\",\n      label: \"Select type:\",\n      selectType: true,\n      options: [\"camping\", \"bonfire\", \"view\", \"hut\"],\n      default: \"camping\"\n    },\n    {\n      name: \"image\",\n      label: \"Image:\",\n      required: false,\n      type: \"file\"\n    }\n  ];\n  const buttonTitle = \"Add to the map\";\n\n  return context.mode === \"explore\" ? null : (\n    <PostForm\n      onSucessPost={onSucessPost}\n      apiPath={apiPath}\n      formTitle={formTitle}\n      additionalInputs={additionalInputs}\n      inputs={inputs}\n      buttonTitle={buttonTitle}\n    />\n  );\n}\nexport default Form;\n","import { BallSpinner } from \"react-spinners-kit\";\nimport React from 'react';\n\n\nfunction Loader(props){\n    return (\n        <BallSpinner\n        size={props.size}\n        color=\"#686769\"\n        loading={props.loading}\n    />\n    );\n}\n\nexport default Loader;","import React from \"react\";\n\nimport Form from \"./Form\";\nimport Loader from \"./Loader\";\n\nimport camping from \"../icons/012-camp.svg\";\nimport bonfire from \"../icons/010-bonfire.svg\";\nimport viewPoint from \"../icons/009-binoculars.svg\";\nimport hut from \"../icons/032-hut.svg\";\n\nimport { MyContext } from \"../contexts/MyContextProvider\";\n\nimport { config } from \"../url_config\";\n\nimport { fromLonLat, toLonLat } from \"ol/proj\";\nimport \"ol/ol.css\";\nimport { Map as OlMap, View } from \"ol\";\nimport TileLayer from \"ol/layer/Tile\";\nimport OSM from \"ol/source/OSM\";\nimport XYZ from \"ol/source/XYZ\";\nimport { Vector as VectorLayer } from \"ol/layer\";\nimport { Vector as VectorSource } from \"ol/source\";\nimport Feature from \"ol/Feature\";\nimport Point from \"ol/geom/Point\";\nimport Geolocation from \"ol/Geolocation\";\nimport { Fill, RegularShape, Stroke, Style, Icon } from \"ol/style.js\";\n\nconst url = config.url.API_URL;\n\nconst iconMapping = {\n  camping,\n  bonfire,\n  view: viewPoint,\n  hut\n};\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n    this.map = null;\n    this.cyclingLayer = null;\n    this.hikingLayer = null;\n    this.hikebikeLayer = null;\n\n    this.center = () => {\n      this.map\n        .getView()\n        .setCenter(fromLonLat(this.context.getPointIdData().localisation));\n      this.map.getView().setZoom(13);\n    };\n\n    this.centerOnGeo = () => {\n      if (this.context.geoCords.length > 1) {\n        this.map.getView().setCenter(this.context.geoCords);\n        this.map.getView().setZoom(13);\n      }\n    };\n  }\n\n  componentDidMount() {\n    const extraLayer = new VectorLayer({\n      source: new VectorSource({\n        features: []\n      })\n    });\n    const featuresLayer = new VectorLayer({\n      source: new VectorSource({\n        features: []\n      })\n    });\n\n    const geoIcon = new Feature({\n      geometry: new Point([])\n    });\n\n    const geolocationLayer = new VectorLayer({\n      source: new VectorSource({\n        features: [geoIcon]\n      })\n    });\n\n    this.cyclingLayer = new TileLayer({\n      source: new XYZ({\n        url: \"http://tile.waymarkedtrails.org/cycling/{z}/{x}/{y}.png\"\n      })\n    });\n\n    this.hikingLayer = new TileLayer({\n      source: new XYZ({\n        url: \"http://tile.waymarkedtrails.org/hiking/{z}/{x}/{y}.png\"\n      })\n    });\n\n    this.hikebikeLayer = new TileLayer({\n      source: new XYZ({\n        url: \"http://tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png\"\n      })\n    });\n\n    this.hillshadingLayer = new TileLayer({\n      source: new XYZ({\n        url: \"http://tiles.wmflabs.org/hillshading/{z}/{x}/{y}.png\"\n      })\n    });\n\n    this.map = new OlMap({\n      target: this.refs.mapContainer, //change to createRef API!!\n      layers: [\n        new TileLayer({\n          source: new OSM()\n        }),\n        this.hikebikeLayer,\n        this.hikingLayer,\n        this.cyclingLayer,\n        this.hillshadingLayer,\n        extraLayer,\n        featuresLayer,\n        geolocationLayer\n      ],\n      view: new View({\n        center: fromLonLat([this.context.lon, this.context.lat]),\n        zoom: 6\n      })\n    });\n\n    const geolocation = new Geolocation({\n      tracking: true,\n      projection: this.map.getView().getProjection()\n    });\n\n    geolocation.on(\"change\", event => {\n      this.context.setGeoCords(geolocation.getPosition());\n      geoIcon.getGeometry().setCoordinates(this.context.geoCords);\n    });\n\n    const handleMapClick = event => {\n      if (this.context.mode === \"explore\") {\n        let pointId = null;\n        this.map.forEachFeatureAtPixel(event.pixel, feature => {\n          pointId = feature.get(\"id\") || null;\n        });\n\n        const newPath =\n          pointId === null ? \"/location/\" : \"/location/\" + pointId;\n        this.props.history.push(newPath);\n      } else if (this.context.mode === \"edit\") {\n        ///////drawing a point/////////\n        const coord = toLonLat(event.coordinate);\n        this.context.setLon(coord[0]);\n        this.context.setLat(coord[1]);\n\n        const star = new Style({\n          image: new RegularShape({\n            fill: new Fill({ color: \"blue\" }),\n            stroke: new Stroke({ color: \"#2F4F4F\", width: 2 }),\n            points: 11,\n            radius: 10,\n            radius2: 3,\n            angle: 0\n          })\n        });\n\n        const features = [];\n\n        const coords = event.coordinate;\n        const newFeature = new Feature({\n          geometry: new Point(coords)\n        });\n\n        newFeature.setStyle(star);\n\n        features.push(newFeature);\n\n        this.state.extraLayer.setSource(\n          new VectorSource({\n            features: features\n          })\n        );\n      }\n    };\n    this.map.on(\"click\", handleMapClick);\n\n    this.setState({\n      extraLayer,\n      featuresLayer,\n      geoIcon\n    });\n  }\n\n  componentDidUpdate() {\n    this.cyclingLayer.setVisible(this.context.cyclingOn);\n    this.hikingLayer.setVisible(this.context.hikingOn);\n    this.hikebikeLayer.setVisible(this.context.hikebikeOn);\n    this.hillshadingLayer.setVisible(this.context.hillshadingOn);\n\n    if (\n      this.context.data === null ||\n      this.state.featuresLayer.values_.source.isEmpty()\n    ) {\n      fetch(url + \"/api/points\")\n        .then(res => res.json())\n        .then(data => {\n          const features = [];\n          data.forEach(e => {\n            const icon = new Icon({\n              opacity: 1,\n              scale: 0.05,\n              src: iconMapping[e.type]\n            });\n\n            const iconStyle = new Style({\n              image: icon\n            });\n\n            const coords = fromLonLat(e.localisation);\n            const iconFeature = new Feature({\n              id: e._id,\n              geometry: new Point(coords),\n              name: e.name,\n              description: e.description,\n              rating: e.rating\n            });\n            iconFeature.setStyle(iconStyle);\n            features.push(iconFeature);\n          });\n\n          this.state.featuresLayer.setSource(\n            new VectorSource({\n              features: features\n            })\n          );\n          this.context.setData(data);\n        })\n        .catch(error => console.log(error));\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Loader size={100} loading={!this.context.data} />\n        {this.context.geoCords && (\n          <button onClick={this.centerOnGeo}>go to my location</button>\n        )}\n        <div ref=\"mapContainer\" id=\"mapContainer\" />\n        {!this.context.pointId || this.context.mode === \"edit\" ? (\n          \"\"\n        ) : (\n          <button onClick={this.center}>center on spot location</button>\n        )}\n        <Form />\n      </div>\n    );\n  }\n}\n\nMap.contextType = MyContext;\nexport default Map;\n","import styled from 'styled-components';\n\nexport const ProfileImage = styled.img`\n  border-radius: 100%;\n  height: 3.5em;\n  margin: 0em 0.5em 0em 3em;\n`;\n\nexport const SmallProfileImage = styled.img`\n  border-radius: 100%;\n  height: 1.5em;\n`;\n","import React, { useContext } from \"react\";\nimport { SmallProfileImage } from \"../styled-components/ProfileImage\";\nimport { AuthContext } from \"../contexts/AuthContextProvider\";\n\nfunction ReviewCard(props) {\n  const authContext = useContext(AuthContext);\n\n  return (\n    <div className=\"ReviewCard flexcontainercolumn\">\n      <br />\n      <h5>{props.e.title}</h5>\n      <p> {props.e.description} </p>\n      <h5>rated: {props.e.rating}</h5>\n      {props.e.images &&\n        props.e.images.map(image => <img src={image} alt=\"img\" />)}\n      {authContext.isAuthenticated && (\n        <SmallProfileImage src={props.e.profilePicture} alt=\"Profile\" />\n      )}\n    </div>\n  );\n}\n\nexport default ReviewCard;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { config } from \"../url_config\";\nimport { MyContext } from \"../contexts/MyContextProvider\";\nimport { AuthContext } from \"../contexts/AuthContextProvider\";\nimport { SmallProfileImage } from \"../styled-components/ProfileImage\";\nimport ReviewCard from \"./ReviewCard\";\nimport PostForm from \"./PostForm\";\n\nconst url = config.url.API_URL;\n\nfunction Description(props) {\n  const context = useContext(MyContext);\n  const authContext = useContext(AuthContext);\n\n  const [reviews, setReviews] = useState(\"\");\n  const [pointData, setPointData] = useState(null);\n\n  useEffect(() => {\n    setReviews(\"\");\n    if (context.data) {\n      const pointData = context.data.find(e => e._id === context.pointId);\n      setPointData(pointData);\n    }\n  }, [context.data, context.pointId]);\n\n  const fetchReviews = () => {\n    fetch(url + \"/api/points/\" + context.pointId)\n      .then(res => res.json())\n      .then(res => {\n        const rev = res.map((e, index) => {\n          return <ReviewCard e={e} key={index} />;\n        });\n        setReviews(rev);\n      });\n  };\n\n  const onSucessPost = async data => {\n    const res = await data.json();\n    setPointData({ ...pointData, rating: res.newRating });\n    fetchReviews();\n  };\n  const apiPath = \"/api/points/\" + context.pointId;\n  const formTitle = \"Add a review\";\n\n  const inputs = [\n    {\n      name: \"title\",\n      label: \"Title:\",\n      required: true,\n      placeholder: \"Title\",\n      type: \"text\"\n    },\n    {\n      name: \"description\",\n      label: \"Description:\",\n      required: false,\n      placeholder: \"place decription\",\n      type: \"text\"\n    },\n    {\n      name: \"rating\",\n      label: \"Rating:\",\n      required: true,\n      min: \"1\",\n      max: \"10\",\n      type: \"number\",\n      placeholder: \"1-10\"\n    },\n    {\n      name: \"image\",\n      label: \"Image:\",\n      required: false,\n      type: \"file\"\n    }\n  ];\n  const buttonTitle = \"Send\";\n\n  return !pointData || context.mode === \"edit\" ? (\n    \"\"\n  ) : (\n    <div className=\"flexcontainercolumn\">\n      <h1>{pointData.name}</h1>\n      <p>{pointData.description}</p>\n      {pointData.images &&\n        pointData.images.map(image => <img src={image} alt=\"img\" />)}\n      <h5>rating: {pointData.rating}</h5>\n      {authContext.isAuthenticated && (\n        <p>\n          created by:{\" \"}\n          <SmallProfileImage src={pointData.profilePicture} alt=\"Profile\" />\n        </p>\n      )}\n\n      <button\n        type=\"click\"\n        onClick={fetchReviews}\n        className=\"btn btn-dark btn-sm\"\n      >\n        Show reviews\n      </button>\n\n      {reviews}\n\n      {authContext.isAuthenticated ? (\n        <PostForm\n          onSucessPost={onSucessPost}\n          apiPath={apiPath}\n          formTitle={formTitle}\n          inputs={inputs}\n          buttonTitle={buttonTitle}\n        />\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n\nexport default Description;\n","import React, { useContext, useEffect } from 'react';\nimport Map from '../components/Map';\nimport Description from '../components/Description';\nimport { MyContext } from '../contexts/MyContextProvider';\nimport { AuthContext } from '../contexts/AuthContextProvider';\n\nimport { config } from '../url_config'\n\n\nfunction Location(props) {\n  const context = useContext(MyContext);\n  const authContext = useContext(AuthContext);\n\n  \n  useEffect(() => {\n    const pathPointId = props.location.pathname.match(/[^/]+$/) ?\n      props.location.pathname.match(/[^/]+$/)[0] : null;\n    if (context.pointId !== pathPointId && pathPointId !== 'location') {\n      context.setPointId(pathPointId);\n    }\n  }, [props.location.pathname])\n\n  const addToFavourites = () => {\n    const data = new URLSearchParams();\n    data.append('locationId', context.pointId);\n    fetch(config.url.API_URL + '/api/profiles/favourites', {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer ' + authContext.jwToken,\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: data\n      })\n        .then((res) => {\n          console.log(res);\n        })\n  }\n\n  return (\n    <div>\n      <Map history={props.history}></Map>\n      { !authContext.isAuthenticated || !context.pointId || context.mode === 'edit' ?\n      '' :\n      <button onClick={addToFavourites}>add to favourites</button>\n        }\n      \n      <Description></Description>\n    </div>\n  );\n}\n\nexport default Location;","import React, { useContext } from \"react\";\n\nimport Location from \"./Location\";\nimport { Route } from \"react-router-dom\";\nimport { MyContext } from \"../contexts/MyContextProvider\";\nimport { AuthContext } from \"../contexts/AuthContextProvider\";\n\nfunction App() {\n  const context = useContext(MyContext);\n  const authContext = useContext(AuthContext);\n\n  const switchText = context.mode === \"explore\" ? \"Edit map\" : \"Explore\";\n\n  const handleInputChange = event => {\n    const target = event.target;\n    const value = target.checked;\n    const name = target.name;\n\n    switch (name) {\n      case \"cyclingOn\":\n        return context.setCyclingOn(value);\n      case \"hikingOn\":\n        return context.setHikingOn(value);\n      case \"hikebikeOn\":\n        return context.setHikebikeOn(value);\n      case \"hillshadingOn\":\n        return context.setHillshadingOn(value);\n      default:\n        return;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {authContext.isAuthenticated ? (\n        <button id=\"switch modes\" onClick={context.switchMode}>\n          {switchText}\n        </button>\n      ) : null}\n\n      <form id=\"layers\">\n        <label>\n          {/* <a href=\"https://cycling.waymarkedtrails.org/\"> */}\n          waymarkedtrails cycling {/* </a> */}\n          <input\n            name=\"cyclingOn\"\n            type=\"checkbox\"\n            checked={context.cyclingOn}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          {/* <a href=\"https://hiking.waymarkedtrails.org/\"> */}\n          waymarkedtrails hiking {/* </a> */}\n          <input\n            name=\"hikingOn\"\n            type=\"checkbox\"\n            value={context.hikingOn}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          {/* <a href=\"http://hikebikemap.org\"> */}\n          wmflabs Hike Bike {/* </a> */}\n          <input\n            name=\"hikebikeOn\"\n            type=\"checkbox\"\n            value={context.hikebikeOn}\n            onChange={handleInputChange}\n          />\n        </label>\n        <label>\n          {/* <a href=\"http://hikebikemap.org\"> */}\n          wmflabs Hillshading {/* </a> */}\n          <input\n            name=\"hillshadingOn\"\n            type=\"checkbox\"\n            value={context.hillshadingOn}\n            onChange={handleInputChange}\n          />\n        </label>\n      </form>\n      {context.redirect}\n      <Route path=\"/\" component={Location} />\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { AuthContext } from '../contexts/AuthContextProvider';\nimport { MyContext } from '../contexts/MyContextProvider';\nimport { Link } from 'react-router-dom';\nimport { config } from '../url_config'\nimport Loader from '../components/Loader'\n\nconst url = config.url.API_URL\n\n\nfunction Profile(props) {\n  const authContext = useContext(AuthContext);\n  const context = useContext(MyContext);\n\n  const [profileData, setProfileData] = useState(null);\n\n  if (!authContext.isAuthenticated) {\n    props.history.push('/')\n  };\n\n  useEffect(() => {\n    fetch(url + '/api/profiles', { \n      method: 'GET',\n      credentials: 'include',\n      headers: {\n        'Authorization': 'Bearer ' + authContext.jwToken\n      } \n    })\n      .then(res => res.json())\n      .then(data => {\n        setProfileData(data)\n      }\n      );\n  }, [])\n\n  return (\n\n    <div className=\"Profile\">\n      {profileData ?\n      <div className=\"flexcontainercolumn\">\n        <h2>{profileData.user.name}</h2>\n        <h4>Your locations:\n        </h4>\n        {profileData.locations.map(location => {\n          return   <Link to={\"/location/\"+location._id} key={location.name}>{location.name}</Link>\n        })}\n          <h4>Your favourites:\n        </h4>\n        {profileData.user.favourites.map(location => {\n          return   <Link to={\"/location/\"+location} key={location.name}>{context.getPointIdData(location).name}</Link>\n        })}\n         </div>\n        :\n        <Loader size={80} loading={true}/>}\n\n\n    </div>\n  );\n}\n\nexport default Profile;\n","import React, { useContext } from 'react';\nimport App from './views/App';\nimport Profile from './views/Profile';\n\nimport { Route, BrowserRouter as Router, Link, Redirect, Switch } from 'react-router-dom';\nimport FacebookLogin from 'react-facebook-login';\nimport { AuthContext } from './contexts/AuthContextProvider';\nimport { MyContext } from './contexts/MyContextProvider';\nimport { ProfileImage } from './styled-components/ProfileImage';\nimport { config } from './url_config'\nconst url = config.url.API_URL\n\n\nfunction Main() {\n  const authContext = useContext(AuthContext);\n  const context = useContext(MyContext);\n\n  const logout = () => {\n    authContext.setIsAuthenticated(false);\n    authContext.setUser(null);\n    authContext.setJwToken(null);\n    context.setMode('explore');\n  };\n\n  const facebookResponse = (response) => {\n    // store data in local storage\n\n    const options = {\n      method: 'POST',\n      body: `access_token=${response.accessToken}`,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      mode: 'cors',\n      cache: 'default'\n    };\n\n    fetch(url + '/api/auth/facebook', options) \n      .then(r => {\n        const token = r.headers.get('x-auth-token');\n        r.json().then(user => {\n          if (token) {\n            authContext.setIsAuthenticated(true);\n            authContext.setUser(user._id);\n            authContext.setJwToken(token);\n            authContext.setPicture(user.photoUrl);\n          }\n        });\n      })\n      \n  }\n  const profileLink = authContext.picture ?\n  <ProfileImage src={authContext.picture} alt=\"Profile\" /> : 'Profile';\n\n  return (\n    \n      <Router basename={process.env.PUBLIC_URL}>\n        <nav className=\"navbar navbar-dark bg-dark\">\n          \n           <Link to='/location'><h1 className=\"text-light title\">\n             Tently\n           </h1></Link> \n            \n          \n          {authContext.isAuthenticated ?\n          <div>\n            <button onClick={logout} className=\"button\">\n              Log out\n            </button>\n             <Link to='/profile'>{profileLink}</Link>\n          </div>\n            :\n            <FacebookLogin\n              appId={config.app_id.FACEBOOK_APPID}\n              autoLoad={true}\n              fields=\"name,email,picture\"\n              callback={facebookResponse} />\n          }\n       \n        </nav>\n        {/* <Geo></Geo> */}\n\n        <Switch>\n          <Route path=\"/location\" component={App} />\n          <Route exact path=\"/\">\n            <Redirect to=\"/location\"></Redirect>\n          </Route>\n          <Route path=\"/profile\" component={Profile} />\n        </Switch>\n      </Router>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from './Main';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport AuthContextProvider from './contexts/AuthContextProvider';\nimport MyContextProvider from './contexts/MyContextProvider';\n\n\nReactDOM.render(\n  <MyContextProvider>\n    <AuthContextProvider>\n      <Main />\n    </AuthContextProvider>\n  </MyContextProvider>\n  , document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/012-camp.8f0eb9f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/010-bonfire.21b76057.svg\";","module.exports = __webpack_public_path__ + \"static/media/009-binoculars.6b6a714c.svg\";"],"sourceRoot":""}